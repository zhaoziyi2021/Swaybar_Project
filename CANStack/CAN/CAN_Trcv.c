/*  BEGIN_FILE_HDR
************************************************************************************************
* Copyright 2015 by Automotive Engineering Research Institute
* All rights exclusively reserved for Automotive Engineering Research Institute,
* unless expressly agreed to otherwise.
************************************************************************************************
*   File Name       : CAN_Trcv.c
************************************************************************************************
*   Project/Product :
*   Title           :
*   Author          : CATARC
************************************************************************************************
*   Description     : This is common module for body netword
*
************************************************************************************************
*   Limitations     : NONE
*
************************************************************************************************
*   END_FILE_HDR*/

/******************************** FILE INCLUSION *********************************/
/*                                                                               */
/*-------------------------------------------------------------------------------*/
/* - Header Files: CAN                                                           */

#include "EB_Prj.h"

/*                                                                               */
/*********************************************************************************/




/****************************** PUBLIC DEFINITIONS *******************************/
/*                                                                               */
/*-------------------------------------------------------------------------------*/
/* - Public Variables                                                            */

/*-------------------------------------------------------------------------------*/
/* - Public Function Prototypes                                                  */

/*-------------------------------------------------------------------------------*/
/* - Public Callback Prototypes                                                  */

/*                                                                               */
/*********************************************************************************/




/***************************** PRIVATE DEFINITIONS *******************************/
/*                                                                               */
/*-------------------------------------------------------------------------------*/
/* - Private Constants                                                           */

/*-------------------------------------------------------------------------------*/
/* - Private Types                                                               */

/*-------------------------------------------------------------------------------*/
/* - Private Variables                                                           */

/*-------------------------------------------------------------------------------*/
/* - Private Macros                                                              */

/*-------------------------------------------------------------------------------*/
/* - Private Function Prototypes                                                 */

/*                                                                               */
/*********************************************************************************/




/******************************** IMPLEMENTATION *********************************/
/*                                                                               */

/*-------------------------------------------------------------------------------*/
/* - Public Functions                                                            */

/*********************************************************************************/
/* Name: CAN_TransceiverPinCfg                                                   */
/*-------------------------------------------------------------------------------*/
/* Description: Map the EN, STB\ and NERR pins of the CAN transceiver on the CPU */
/*********************************************************************************/
/* Input parameters          : None                                              */
/* Output parameters         : None                                              */
/* Return value              : None                                              */
/*-------------------------------------------------------------------------------*/
/* Used public variables     : None                                              */
/* Modified public variables : None                                              */
/*-------------------------------------------------------------------------------*/
/* Used private variables    : None                                              */
/* Modified private variables: None                                              */
/*-------------------------------------------------------------------------------*/
/* Called functions          : None                                              */
/* Called macros             : None                                              */
/* Called callbacks          : None                                              */
/*********************************************************************************/

void CAN_TransceiverPinCfg (void)
{
    /* HS transciver, no control needed */
}

/* - Fin CAN_TransceiverPinCfg                                                   */
/*-------------------------------------------------------------------------------*/



/*********************************************************************************/
/* Name: CAN_SetTransceiverMode                                                  */
/*-------------------------------------------------------------------------------*/
/* Description: Set the EN and STB\ bits of the CAN transceiver                  */
/*********************************************************************************/
/* Input parameters          : ubEn: CAN transceiver EN bit                      */
/*                             ubStb: CAN transceiver STB\ bit                   */
/* Output parameters         : None                                              */
/* Return value              : None                                              */
/*-------------------------------------------------------------------------------*/
/* Used public variables     : None                                              */
/* Modified public variables : None                                              */
/*-------------------------------------------------------------------------------*/
/* Used private variables    : None                                              */
/* Modified private variables: None                                              */
/*-------------------------------------------------------------------------------*/
/* Called functions          : None                                              */
/* Called macros             : None                                              */
/* Called callbacks          : None                                              */
/*********************************************************************************/

void CAN_SetTransceiverMode (u8 ubEn, u8 ubStb)
{
    /* HS transciver, no control needed */
}

/* - Fin CAN_SetTransceiverMode                                                  */
/*-------------------------------------------------------------------------------*/



/*********************************************************************************/
/* Name: CAN_GetNerrBit                                                          */
/*-------------------------------------------------------------------------------*/
/* Description: Read the NERR bit of the CAN transceiver                         */
/*********************************************************************************/
/* Input parameters          : None                                              */
/* Output parameters         : pbNerr: CAN transceiver NERR bit                  */
/* Return value              : None                                              */
/*-------------------------------------------------------------------------------*/
/* Used public variables     : None                                              */
/* Modified public variables : None                                              */
/*-------------------------------------------------------------------------------*/
/* Used private variables    : None                                              */
/* Modified private variables: None                                              */
/*-------------------------------------------------------------------------------*/
/* Called functions          : None                                              */
/* Called macros             : None                                              */
/* Called callbacks          : None                                              */
/*********************************************************************************/

void CAN_GetNerrBit (u8 * const pbNerr)
{

}

/* - Fin CAN_GetNerrBit                                                          */
/*-------------------------------------------------------------------------------*/


/*********************************************************************************/
/* Name: CAN_PortCfg                                                             */
/*-------------------------------------------------------------------------------*/
/* Description: Configuration of the PIN                                         */
/*********************************************************************************/
/* Input parameters          : None                                              */
/* Output parameters         : None                                              */
/* Return value              : None                                              */
/*-------------------------------------------------------------------------------*/
/* Used public variables     : None                                              */
/* Modified public variables : None                                              */
/*-------------------------------------------------------------------------------*/
/* Used private variables    : None                                              */
/* Modified private variables: None                                              */
/*-------------------------------------------------------------------------------*/
/* Called functions          : None                                              */
/* Called macros             : None                                              */
/* Called callbacks          : None                                              */
/*********************************************************************************/

void CAN_PortCfg (void)
{
    ///  Configuration of the used CAN Port Pins:
    ///  - Loop-back mode is disabled
    ///  - P2.6 is used for CAN0 Receive input(RXDC0D)
    ///  - P2.5 is used for CAN0 Transmit output(TXDC0E)

#if( CAN_CTRL_SEL == 0)
     // P2_IOCR05 = 0x00A0;    //set direction register
     // P2_IOCR06 = 0x0020;
     // CAN_NPCR0    =  0x0003;      // load node0 port control register
#endif

}

/* - Fin CAN_PortCfg                                                          */
/*-------------------------------------------------------------------------------*/



/*-------------------------------------------------------------------------------*/
/* - Private Functions                                                           */

/*-------------------------------------------------------------------------------*/
/* - Public Callbacks                                                            */

/*                                                                               */
/*********************************************************************************/



